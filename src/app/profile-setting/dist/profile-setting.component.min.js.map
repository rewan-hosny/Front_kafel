{"version":3,"sources":["profile-setting.component.ts"],"names":["core_1","require","person_module_1","GetImage_module_1","ProfileSettingComponent","http","router","authService","jwtHelper","this","person","Person","updatedPerson","getImage","GetImage","prototype","ngOnInit","PersonData","_this","GetUser","subscribe","result","error","console","log","UpdatePerson","UpdateUser","response","localStorage","setItem","token","decodedToken","decodeToken","navigate","imageSrc","imageUrl","__decorate","Component","selector","templateUrl","styleUrls","exports"],"mappings":"6YAAA,IAAAA,OAAAC,QAAA,iBACAC,gBAAAD,QAAA,mCAKAE,kBAAAF,QAAA,8BAMAG,wBAAA,WAKE,SAAAA,EAAoBC,EAA2BC,EAAwBC,EAAyCC,GAA5FC,KAAAJ,KAAAA,EAA2BI,KAAAH,OAAAA,EAAwBG,KAAAF,YAAAA,EAAyCE,KAAAD,UAAAA,EAJhHC,KAAAC,OAAiB,IAAIR,gBAAAS,OACrBF,KAAAG,cAAwB,IAAIV,gBAAAS,OAC5BF,KAAAI,SAAqB,IAAIV,kBAAAW,SA0D3B,OAvDIV,EAAAW,UAAAC,SAAA,WACEP,KAAKQ,aACLR,KAAKK,YAGRV,EAAAW,UAAAE,WAAA,WAAA,IAAAC,EAAAT,KACDA,KAAKF,YAAYY,UAAUC,UACzB,SAACC,GACCH,EAAKR,OAASW,GAEhB,SAACC,GACCC,QAAQC,IAAIF,MAKZlB,EAAAW,UAAAU,aAAA,WAAA,IAAAP,EAAAT,KACFA,KAAKF,YAAYmB,WAAWjB,KAAKG,eAAeQ,UAChD,SAACO,GACGJ,QAAQC,IAAI,gCACZN,EAAKD,aACPW,aAAaC,QAAQ,gBAAiBF,EAASG,OAG/C,IAAMC,EAAeb,EAAKV,UAAUwB,YAAYL,EAASG,OAGzDF,aAAaC,QAAQ,OAAQE,EAAa,+DAC1CH,aAAaC,QAAQ,SAAUE,EAAa,yEAC5Cb,EAAKZ,OAAO2B,SAAS,CAAC,WAItB,SAACX,GACCC,QAAQC,IAAIF,GACdC,QAAQC,IAAI,aAAaF,MAM1BlB,EAAAW,UAAAD,SAAA,WAAA,IAAAI,EAAAT,KACHA,KAAKF,YAAYO,WAAWM,UAC1B,SAACC,GACCH,EAAKL,SAAWQ,EACfH,EAAKgB,SAAW,0BAA0BhB,EAAKL,SAASsB,UAE3D,SAACb,GACCC,QAAQC,IAAIF,MAtDLlB,EAAuBgC,WAAA,CALnCpC,OAAAqC,UAAU,CACTC,SAAU,sBACVC,YAAa,mCACbC,UAAW,CAAC,sCAEDpC,GAAb,GAAaqC,QAAArC,wBAAAA","file":"profile-setting.component.min.js","sourcesContent":["import { Component } from '@angular/core';\nimport { Person } from '../modules/person/person.module';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { AuthServicesService } from '../services/auth-services.service';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport { GetImage } from '../modules/GetImage.module';\n@Component({\n  selector: 'app-profile-setting',\n  templateUrl: './profile-setting.component.html',\n  styleUrls: ['./profile-setting.component.css']\n})\nexport class ProfileSettingComponent {\n  person: Person = new Person();\n  updatedPerson: Person = new Person();\n  getImage: GetImage = new GetImage();\n    public imageSrc: string | undefined;\n  constructor(private http: HttpClient,  private router: Router, private authService:AuthServicesService, private jwtHelper: JwtHelperService) { }\n    ngOnInit(): void {\n      this.PersonData();\n      this.GetImage();\n  }\n  \n   PersonData() {\n  this.authService.GetUser().subscribe(\n    (result: any) => {\n      this.person = result;\n    },\n    (error: any) => {\n      console.log(error);\n    }\n  );\n}\n\n      UpdatePerson():void {\n    this.authService.UpdateUser(this.updatedPerson).subscribe(\n    (response: any) => {\n        console.log(`Image  updated successfully.`);\n        this.PersonData();\n      localStorage.setItem('Authorization', response.token);\n\n      // Decode the JWT token to get user information\n      const decodedToken = this.jwtHelper.decodeToken(response.token);\n\n      // Store user information in local storage\n      localStorage.setItem('name', decodedToken[\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\"]);\n      localStorage.setItem('userid', decodedToken[\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier\"]);\n      this.router.navigate(['/home']);\n   \n   \n    },\n      (error: any) => {\n        console.log(error);\n      console.log(`Error  }: ${error}`);\n    }\n  );\n\n    \n      }\n     GetImage() {\n  this.authService.GetImage().subscribe(\n    (result: any) => {\n      this.getImage = result;\n       this.imageSrc = `data:image/jpeg;base64,${this.getImage.imageUrl}`;\n    },\n    (error: any) => {\n      console.log(error);\n    }\n  );\n}\n\n\n\n}\n"]}