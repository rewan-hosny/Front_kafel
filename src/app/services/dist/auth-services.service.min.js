"use strict";var __decorate=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var p=t.length-1;0<=p;p--)(n=t[p])&&(a=(i<3?n(a):3<i?n(e,r,a):n(e,r))||a);return 3<i&&a&&Object.defineProperty(e,r,a),a};exports.__esModule=!0;var http_1=require("@angular/common/http"),core_1=require("@angular/core"),environment_1=require("src/environments/environment"),rxjs_1=require("rxjs"),operators_1=require("rxjs/operators"),AuthServicesService=function(){function t(t,e,r,o){this.http=t,this.jwtHelper=e,this.localStorage=r,this.router=o,this.registerr="Auth/register",this.loginn="Auth/login",this.Complete="Auth/complete-profile",this.Image="Auth/Image",this.user="Auth/User",this.UpdatePerson="Auth/UpdateUser",this.getImage="Auth/Image"}return t.prototype.register=function(t){return this.http.post(environment_1.environment.apiUrl+"/"+this.registerr,t).pipe(operators_1.catchError(this.handleError))},t.prototype.handleError=function(t){return 400===t.status?(console.log(t),rxjs_1.throwError(function(){return{error:t}})):rxjs_1.throwError(function(){return new Error(t.error)})},t.prototype.login=function(t){return this.http.post(environment_1.environment.apiUrl+"/"+this.loginn,t).pipe(operators_1.catchError(function(t){return rxjs_1.throwError(t.error)}))},t.prototype.CompleteProfile=function(t){var e=localStorage.getItem("Authorization"),r={headers:new http_1.HttpHeaders({Authorization:"Bearer "+e,"Content-Type":"application/json"})};return this.http.post(environment_1.environment.apiUrl+"/"+this.Complete,t,r)},t.prototype.UpdateImage=function(t){var e=localStorage.getItem("Authorization"),r={headers:new http_1.HttpHeaders({Authorization:"Bearer "+e})},o=new FormData;return console.log(t.imageUrl),t.imageUrl&&o.append("image",t.imageUrl,t.imageUrl.name),this.http.patch(environment_1.environment.apiUrl+"/"+this.Image,o,r)},t.prototype.GetUser=function(){var t=localStorage.getItem("Authorization"),e={headers:new http_1.HttpHeaders({Authorization:"Bearer "+t,"Content-Type":"application/json"})};return this.http.get(environment_1.environment.apiUrl+"/"+this.user,e)},t.prototype.UpdateUser=function(t){var e=localStorage.getItem("Authorization"),r={headers:new http_1.HttpHeaders({Authorization:"Bearer "+e})};return this.http.patch(environment_1.environment.apiUrl+"/"+this.UpdatePerson,t,r)},t.prototype.GetImage=function(){var t=localStorage.getItem("Authorization"),e={headers:new http_1.HttpHeaders({Authorization:"Bearer "+t,"Content-Type":"application/json"})};return this.http.get(environment_1.environment.apiUrl+"/"+this.getImage,e)},t=__decorate([core_1.Injectable({providedIn:"root"})],t)}();exports.AuthServicesService=AuthServicesService;
//# sourceMappingURL=auth-services.service.min.js.map
